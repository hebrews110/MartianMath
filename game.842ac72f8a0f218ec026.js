!function(t){function e(e){for(var i,s,a=e[0],u=e[1],c=e[2],h=0,p=[];h<a.length;h++)s=a[h],o[s]&&p.push(o[s][0]),o[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(l&&l(e);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={0:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;r.push([9,1]),n()}([,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[["   S  S    [////]           ","  [////]            S   SG  ","                    #   []  ","   P      SSSS              ","[/////]   [///]             "],["                 B                    ","               [////]                 ","              O     O                 ","   S       B             S    S    G  ","[//]       [////]   [////]   [//////] ","    O   O                             "," P        B                           ","[///]  [//]                           "],[" P                     [//]       G   ","[/]    O   B        O           [/]   ","         [//]     [//]                ","      S                     B  B      "," O  [//]      B            [///]      ","S        O  [///]     []  O        O  ","[]                                    ","         [/]            [/]      [/]  "],["       O                                    ","                      O                 O   ","      [///]                 O      [////]   ","           [///]       S  [//]              ","                   [///]      [///]         ","             S                              ","         [///]           O              G   ","      O            O               [////]   ","  P                     S  B                ","[//////]       [///]  [////]                "],["                        O  O         S                                  ","                                 [//////]           B                G  ","                  O    [/////]                [///////]          [////] ","                                                                        ","  P      S     B    B              O       S     S         S            ","[////////]  [///////]             [/]    [////////////////////]         "]];e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r._dead=!1,e.add.existing(r),e.physics.add.existing(r),r}return o(e,t),Object.defineProperty(e.prototype,"dead",{get:function(){return this._dead},set:function(t){this._dead=t},enumerable:!0,configurable:!0}),e.prototype.removeEnemy=function(){var t=this;this.dead=!0,this.anims.stop(),this.body.setVelocityX(0),this.scene.tweens.add({targets:this,delay:2e3,duration:600,alpha:0,onComplete:function(){t.destroy()}})},e}(Phaser.Physics.Arcade.Sprite);e.default=r},,,,,,function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(10);var o=i(n(11)),r=i(n(29)),s=i(n(30)),a=i(n(36));n(35);window.addEventListener("choose",(function(){var t={type:Phaser.WEBGL,backgroundColor:"#ffffff",parent:"phaser-game",scale:{mode:Phaser.Scale.NONE,width:1280,height:720},plugins:{scene:[{key:"SpineWebGLPlugin",plugin:s.default,start:!0,sceneKey:"spine"},{key:"rexUI",plugin:a.default,mapping:"rexUI"}]},scene:[r.default,o.default],physics:{default:"arcade",arcade:{debug:!1,gravity:{y:2500}}}},e=new Phaser.Game(t),n=function(){var t=window.innerWidth,n=window.innerHeight,i=Math.min(t/1280,n/720),o=Math.min(t/i,3840),r=Math.min(n/i,2160),s=1,a=function(t,e,n){return(t-e)/(n-e)};s=1280/720<t/n?-a(o/r,1280/720,3840/720)/(1/(1.15-1))+1.15:-a(o/r,1280/720,1280/2160)/(1/(1.15-1))+1.15,e.scale.resize(o*s,r*s),e.canvas.style.width=o*i+"px",e.canvas.style.height=r*i+"px",e.canvas.style.marginTop=(n-r*i)/2+"px",e.canvas.style.marginLeft=(t-o*i)/2+"px"};window.addEventListener("resize",(function(t){n()})),n()}))},,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(12),c=a(n(13)),l=a(n(15)),h=a(n(17)),p=a(n(19)),f=a(n(22)),d=a(n(23)),y=a(n(25)),_=a(n(26)),m=a(n(27)),b=function(t,e){return t.rexUI.add.label({background:t.rexUI.add.roundRectangle(0,0,0,0,20,6198003),text:t.add.text(0,0,e,{fontSize:"40px"}),space:{left:10,right:10,top:10,bottom:10}})},v=!1,w=!1,g=!1,x=0,O=function(t){function e(){return t.call(this,{key:"MainScene"})||this}return o(e,t),e.prototype.init=function(t){var e=t.level,n=void 0===e?0:e;this.level=u.Map.calcCurrentLevel(n)},e.prototype.askQuestion=function(t){return r(this,void 0,Promise,(function(){var e,n=this;return s(this,(function(i){switch(i.label){case 0:return this.scene.pause(),this.physics.pause(),[4,new Promise((function(e){return window.queueMicrotask((function(){return r(n,void 0,void 0,(function(){var n,i,o;return s(this,(function(r){switch(r.label){case 0:return n="MathQuestionScene"+x++,[4,(i=this.scene.add(n,m.default,!0,{num:t})).getQuestionAnswer()];case 1:return o=r.sent(),this.scene.remove(i),e(o),[2]}}))}))}))}))];case 1:return e=i.sent(),this.physics.resume(),this.scene.resume(),this.input.keyboard.resetKeys(),[2,e]}}))}))},e.prototype.create=function(){var t=this,e=new u.Map(this.level);this.cameras.main.setBackgroundColor("#ade6ff"),this.cameras.main.fadeIn(),this.cameras.main.setBounds(e.size.x,e.size.y,e.size.width,e.size.height),this.physics.world.setBounds(e.size.x,e.size.y,e.size.width,e.size.height),this.input.addPointer(1),this.cursors=this.input.keyboard.createCursorKeys(),g||(this.music=this.sound.add("music",{loop:!0,volume:.15}),this.music.play(),g=!0),this.background=new y.default(this),this.tilesGroup=new c.default(this,e.info.filter((function(t){return"tile"===t.type}))),this.goal=new f.default(this,e.info.filter((function(t){return"goal"===t.type}))[0]),this.player=new l.default(this,e.info.filter((function(t){return"player"===t.type}))[0],e.size,this.level),this.enemiesGroup=new p.default(this,e.info);var n=new h.default(this,e.info.filter((function(t){return"coin"===t.type})));if(this.controls=new d.default(this),!v){v=!0;var i=this.rexUI.add.dialog({anchor:{centerX:"center",centerY:"center"},background:this.rexUI.add.roundRectangle(0,0,100,100,20,1402304),title:this.rexUI.add.label({background:this.rexUI.add.roundRectangle(0,0,100,40,20,15503),text:this.add.text(0,0,"Question",{fontSize:"60px"}),space:{left:15,right:15,top:10,bottom:10}}),content:this.add.text(0,0,"Do you want to enter full screen mode?",{fontSize:"40px"}),actions:[b(this,"Yes"),b(this,"No")],space:{title:25,content:25,action:15,left:20,right:20,top:20,bottom:20},align:{actions:"right"},expand:{content:!1}}).layout().popUp(1e3).on("button.over",(function(t,e,n){t.getElement("background").setStrokeStyle(1,16777215)})).on("button.out",(function(t,e,n){t.getElement("background").setStrokeStyle()})).on("button.click",(function(e,n,o){"Yes"==e.text&&(t.game.scale.startFullscreen(),t.scale.updateBounds()),i.destroy()}))}this.cameras.main.startFollow(this.player),this.physics.add.collider(this.tilesGroup,this.player),this.physics.add.collider(this.tilesGroup,this.enemiesGroup),this.physics.add.overlap(this.player,this.enemiesGroup,(function(e,n){return r(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return n.dead||e.isDead()?[2]:(n.body.touching.up&&e.body.touching.down,"true"==n.getData("questionAsked")||w?[3,2]:(w=!0,this.sound.play("player_attacks"),n.setData("questionAsked","true"),console.log("open question"),[4,this.askQuestion(1)]));case 1:t.sent()?(e.killEnemy(),n.kill()):e.kill(),w=!1,t.label=2;case 2:return[2]}}))}))})),this.physics.add.overlap(this.player,n,(function(t,e){return e.collect()})),this.physics.add.overlap(this.player,this.goal,(function(e,n){return r(t,void 0,void 0,(function(){var t,i,o;return s(this,(function(r){switch(r.label){case 0:if(e.isDead())return[2];if(w)return[3,5];w=!0,t=3,i=0,o=!0,r.label=1;case 1:return[4,this.askQuestion(t-i)];case 2:o=r.sent(),r.label=3;case 3:if(i++<t-1&&o)return[3,1];r.label=4;case 4:o?(e.halt(),this.sound.play("level_completes"),n.nextLevel(this,this.level)):e.kill(),w=!1,r.label=5;case 5:return[2]}}))}))})),this.miniMap=new _.default(this,10,10,Math.min(e.size.width/8,e.size.height/8*2.5),e.size.height/8,e),this.miniMap.setIgnore([this.background,this.controls.buttons.up,this.controls.buttons.left,this.controls.buttons.right]),this.miniMap.update(this.player);var o=document.getElementById("loading-screen");o&&(o.classList.add("transparent"),this.time.addEvent({delay:1e3,callback:function(){o.remove()}}));var a=function(){t.controls.adjustPositions(),t.background.adjustPosition()};this.scale.on("resize",(function(e){t.cameras.main.width=e.width,t.cameras.main.height=e.height,a()})),a()},e.prototype.update=function(){this.background.parallax(),this.controls.update(),this.enemiesGroup.update(),this.player.update(this.cursors,this.controls)},e}(Phaser.Scene);e.default=O},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(2)),s=function(){function t(e){var n=this,o={"[":{type:"tile",texture:"tile-left"},"/":{type:"tile",texture:"tile-middle"},"]":{type:"tile",texture:"tile-right"},"#":{type:"tile",texture:"tile-single"},G:{type:"goal",texture:"goal"},O:{type:"coin",texture:"coin"},S:{type:"enemy",texture:"slime"},B:{type:"enemy",texture:"bee"},P:{type:"player",texture:"player"}},s=r.default[t.calcCurrentLevel(e)];this.size={x:0,y:0,width:96*s[0].length,height:96*s.length+384},this.info=[],s.forEach((function(t,e){for(var r=0;r<t.length;r++){var s=t.charAt(r),a=r;if(" "!==s){var u=i({},o[s.toString()],{x:96*a,y:96*e+384});n.info.push(u)}}}))}return t.calcCurrentLevel=function(t){return t%r.default.length},t}();e.Map=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(14)),a=function(t){function e(e,n){var i=t.call(this,e)||this;return n.forEach((function(t){i.add(new s.default(e,t.x,t.y,t.texture))})),i}return o(e,t),e}(Phaser.GameObjects.Group);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.setOrigin(0,0),e.add.existing(r),e.physics.add.existing(r,!0),r.body.checkCollision.down=!1,r.body.checkCollision.right=!1,r.body.checkCollision.left=!1,r}return o(e,t),e}(Phaser.Physics.Arcade.Sprite);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(16)),a=function(t){function e(e,n,i,o){var r=t.call(this,e,n.x,n.y,n.texture)||this;r._dead=!1,r._halt=!1,r.notOnLand=!1,e.add.existing(r),e.physics.add.existing(r),r.scene=e,r.mapSize=i,r.setVisible(!1),r.setOrigin(0,1),r.setDragX(1500),r.body.setSize(70,132),r.body.setOffset(25,24);var a=o%2==0?"blue":"green";return r.playerSpine=new s.default(e,r.body.center.x,r.body.bottom),r.playerSpine.setSkin(a),r}return o(e,t),e.prototype.isDead=function(){return this._dead},e.prototype.kill=function(){var t=this;this._dead=!0,this.scene.sound.play("player_dies",{volume:.4}),this.scene.cameras.main.shake(500,.025),this.setVelocityY(600),this.scene.time.addEvent({delay:2e3,callback:function(){return t.scene.scene.restart()}})},e.prototype.killEnemy=function(){this.playerSpine.spine.customParams.isKilling=!0,this.setVelocityY(-600)},e.prototype.halt=function(){this.body.enable=!1,this._halt=!0},e.prototype.update=function(t,e){this._halt||this._dead||((this.body.right<this.mapSize.x||this.body.left>this.mapSize.width||this.body.top>this.mapSize.height)&&this.kill(),t.left.isDown||e.leftIsDown?(this.setVelocityX(-500),this.setFlipX(!0)):(t.right.isDown||e.rightIsDown)&&(this.setVelocityX(550),this.setFlipX(!1)),this.notOnLand&&this.body.blocked.down&&(this.scene.sound.play("player_lands"),this.notOnLand=!1),(t.up.isDown||t.space.isDown||e.upIsDown)&&this.body.blocked.down?(this.setVelocityY(-1250),this.scene.sound.play("player_jumps"),this.notOnLand=!0):this.notOnLand||this.body.blocked.down||(this.notOnLand=!0),this.playerSpine.update(this))},e}(Phaser.Physics.Arcade.Sprite);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i,o,r){void 0===i&&(i="boy"),void 0===o&&(o="idle"),void 0===r&&(r=!0),this.spine=t.add.spine(e,n,i,o,r),this.spine.customParams={animation:o,isKilling:!1},this.spine.play(this.spine.customParams.animation,!0),this.spine.setMix("run","idle",.3),this.spine.setMix("idle","run",.3),this.spine.setMix("jump","run",.2),this.spine.setMix("run","jump",.3),this.spine.setMix("idle","jump",.3),this.spine.setMix("jump","idle",.2),this.spine.setMix("jump","kill",.2),this.spine.setMix("kill","idle",.2),this.setSkin("blue")}return t.prototype.getAttachments=function(){return this.spine.skeleton.skin.attachments},t.prototype.getSlots=function(){return this.spine.skeleton.slots},t.prototype.setAttachment=function(t,e){this.spine.skeleton.setAttachment(t,e)},t.prototype.setSkin=function(t){this.spine.setSkin(null),this.spine.setSkinByName(t)},t.prototype.setAnimation=function(t,e){void 0===e&&(e=!1),this.spine.customParams.animation!==t&&(this.spine.customParams.animation=t,this.spine.play(t,e))},t.prototype.update=function(t){if(t&&t.body){if(this.spine.x=t.body.center.x,this.spine.y=t.body.bottom+8,t.body.blocked.down){this.spine.customParams.isKilling=!1;var e=Math.abs(t.body.velocity.x)>=10?"run":"idle";this.setAnimation(e,!0)}if(!t.body.blocked.down){e=this.spine.customParams.isKilling?"kill":"jump";this.setAnimation(e)}t.flipX!==this.spine.flipX&&(this.spine.flipX=t.flipX)}},t}();e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(18)),a=function(t){function e(e,n){var i=t.call(this,e)||this;return n.forEach((function(t){i.add(new s.default(e,t))})),i}return o(e,t),e}(Phaser.GameObjects.Group);e.default=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n){var i=t.call(this,e,n.x+48,n.y+48,n.texture)||this;return i.collecting=!1,e.add.existing(i),e.physics.add.existing(i),i.setImmovable(),i.setScale(1.5),i.body.setAllowGravity(!1),e.anims.create({key:"spin",frames:e.anims.generateFrameNames("coin"),frameRate:16,repeat:-1}),i.play("spin"),i}return o(e,t),e.prototype.collect=function(){this.collecting||(this.collecting=!0,this.scene.sound.play("player_collects"),this.scene.tweens.add({targets:this,alpha:0,y:this.y-100,duration:500,ease:"Power2",onComplete:this.destroy.bind(this)}))},e}(Phaser.Physics.Arcade.Sprite);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(20)),a=r(n(21)),u=function(t){function e(e,n){var i=t.call(this,e)||this;i.TILE_SIZE=96,i.tiles=n.filter((function(t){return"tile"===t.type}));var o=n.filter((function(t){return"enemy"===t.type})),r=[];return o.forEach((function(t){switch(t.texture){case"bee":r.push(new s.default(e,t.x,t.y));break;case"slime":r.push(new a.default(e,t.x,t.y))}})),i.addMultiple(r),i}return o(e,t),e.prototype.update=function(){var t=this;this.children.iterate((function(e){if(!e.dead){var n=e.body.velocity.x>=0;0===t.tiles.filter((function(i){var o=n?e.body.right:e.body.left,r=o+32>i.x&&o-32<i.x+t.TILE_SIZE,s=e.body.bottom+t.TILE_SIZE/2>i.y&&e.body.bottom+t.TILE_SIZE/2<i.y+t.TILE_SIZE;return r&&s})).length&&(e.body.setVelocityX(-1*e.body.velocity.x),e.setFlipX(!n))}}),null)},e}(Phaser.GameObjects.Group);e.default=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,i){var o=t.call(this,e,n,i,"bee")||this;return e.add.existing(o),e.physics.add.existing(o),e.anims.create({key:"fly",frames:e.anims.generateFrameNumbers("bee",{start:0,end:1}),frameRate:8,repeat:-1}),o.play("fly"),o.body.setVelocityX(-120),o.setOrigin(.5,1),o.body.setSize(80,135),o.body.setOffset((o.width-80)/2,30),o}return o(e,t),e.prototype.update=function(){},e.prototype.kill=function(){this.dead||(this.body.setSize(80,40),this.setFrame(2),this.removeEnemy())},e}(r(n(3)).default);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,i){var o=t.call(this,e,n,i,"slime")||this;return e.add.existing(o),e.physics.add.existing(o),e.anims.create({key:"crawl",frames:e.anims.generateFrameNumbers("slime",{start:0,end:4}),frameRate:6,yoyo:!0,repeat:-1}),o.play("crawl"),o.body.setVelocityX(-60),o.setOrigin(.5,1),o.setScale(1),o.body.setSize(o.width-40,o.height-20),o.body.setOffset(20,20),o}return o(e,t),e.prototype.update=function(){},e.prototype.kill=function(){this.dead||(this.setFrame(5),this.removeEnemy())},e}(r(n(3)).default);e.default=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(2)),a=function(t){function e(e,n){var i=t.call(this,e,n.x,n.y+14,"goal")||this;return i._loadNextLevel=!1,e.add.existing(i),e.physics.add.existing(i),i.setImmovable(!0),i.body.setAllowGravity(!1),i.setOrigin(0,.5),i}return o(e,t),Object.defineProperty(e.prototype,"loadNextLevel",{get:function(){return this._loadNextLevel},enumerable:!0,configurable:!0}),e.prototype.nextLevel=function(t,e){this._loadNextLevel||(this._loadNextLevel=!0,e<s.default.length-1?(t.cameras.main.fadeOut(),t.time.addEvent({delay:2e3,callback:function(){t.scene.restart({level:e+=1})}})):(console.log("INFO"),document.querySelector("#you-win").style.display=""))},e}(Phaser.Physics.Arcade.Sprite);e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(24)),r=function(){function t(t){var e=this;this.buttons={},this._width=192,this._height=192,this._scene=t,this._config=[{type:"left",rotation:1.5*Math.PI},{type:"right",rotation:.5*Math.PI},{type:"up",rotation:0}],this._config.forEach((function(n){e.buttons[n.type]=new o.default(t,0,0,n)}))}return t.prototype.adjustPositions=function(){var t=this._scene.cameras.main.width,e=this._scene.cameras.main.height;this.buttons.left.x=130,this.buttons.left.y=e-130,this.buttons.right.x=390,this.buttons.right.y=e-130,this.buttons.up.x=t-130,this.buttons.up.y=e-130},t.prototype.update=function(){var t=this;this.leftIsDown=!1,this.rightIsDown=!1,this.upIsDown=!1;var e=[this._scene.input.pointer1,this._scene.input.pointer2],n=[this.buttons.left,this.buttons.right,this.buttons.up];e.forEach((function(e){if(e.isDown){console.log(e.x,e.y);var i=n.filter((function(n){var i=n.x-t._width/2<e.x&&n.x+t._width/2>e.x,o=n.y-t._height/2<e.y&&n.y+t._height/2>e.y;return i&&o}));if(1===i.length)switch(i[0].type){case"left":t.leftIsDown=!0;break;case"right":t.rightIsDown=!0;break;case"up":t.upIsDown=!0}}}))},t}();e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,i,o){var r=t.call(this,e,i,n,"controls")||this;return e.add.existing(r),r.setX(n).setY(i).setAlpha(.1).setRotation(o.rotation).setScrollFactor(0).setScale(1.25),r.type=o.type,e.sys.game.device.input.touch||r.setAlpha(0),r}return o(e,t),e}(Phaser.GameObjects.Image);e.default=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=t.call(this,e,0,0,0,0,"background")||this;return e.add.existing(n),n.setOrigin(.5).setScrollFactor(0),n}return o(e,t),e.prototype.adjustPosition=function(){this.setScale(this.scene.cameras.main.height/648),this.x=this.scene.cameras.main.centerX,this.y=this.scene.cameras.main.centerY,this.width=this.scene.cameras.main.width},e.prototype.parallax=function(){this.tilePositionX=.2*this.scene.cameras.main.worldView.x},e}(Phaser.GameObjects.TileSprite);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i,o,r){}return t.prototype.setIgnore=function(t){},t.prototype.update=function(t){},t}();e.default=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(28)),c=0;function l(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}e.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var h=function(t){function e(){return t.call(this,{key:"MathQuestionScene"+c++})||this}return o(e,t),e.prototype.create=function(t){var e=this,n=window.maxResultSize,i=window.operation;console.log(n,i);var o,r,s,a=l(0,4),c=window.getNextMathQuestion();o=c.operands[0],r=c.operands[1],s=window.mathSymbol,this.currentCorrectAnswer=c.currentCorrectAnswer;for(var h=[],p=0;p<4;p++){var f;do{f=l(0,this.currentCorrectAnswer+5)}while(-1!=h.indexOf(f)||f==this.currentCorrectAnswer);h.push(f)}var d=[],y={};for(p=0;p<5;p++)d[p]=p==a?this.currentCorrectAnswer:h.pop(),y[d[p].toString()]=d[p].toString();u.default.fire({title:o+" "+s+" "+r+" = ?",text:"("+(t.num-1)+" question"+(t.num-1==1?"":"s")+" left to answer after this)",input:"select",inputOptions:y}).then((function(t){e.events.emit("answer_click",{text:t.value.toString()})}))},e.prototype.getQuestionAnswer=function(){return r(this,void 0,Promise,(function(){var t=this;return s(this,(function(e){return[2,new Promise((function(e){return t.events.once("answer_click",(function(n){return r(t,void 0,void 0,(function(){var t,i=this;return s(this,(function(o){switch(o.label){case 0:return t=parseInt(n.text)==this.currentCorrectAnswer,this.sound.play("player_answers_"+(t?"correct":"incorrect")+"ly"),t?[3,2]:[4,new Promise((function(t){var e,n;i.rexUI.add.dialog({anchor:{centerX:"center",centerY:"center"},background:i.rexUI.add.roundRectangle(0,0,100,100,20,1402304),title:i.rexUI.add.label({background:i.rexUI.add.roundRectangle(0,0,100,40,20,15503),text:i.add.text(0,0,"Incorrect",{fontSize:"60px"}),space:{left:15,right:15,top:10,bottom:10}}),content:i.add.text(0,0,"The correct answer was "+i.currentCorrectAnswer+".",{fontSize:"40px"}),actions:[(e=i,n="OK",e.rexUI.add.label({background:e.rexUI.add.roundRectangle(0,0,100,40,20,6967115),text:e.add.text(0,0,n,{fontSize:"40px"}),space:{left:10,right:10,top:10,bottom:10}}))],space:{title:25,content:25,action:15,left:10,right:10,top:10,bottom:10},align:{actions:"right"},expand:{content:!1}}).layout().popUp(1e3).on("button.click",(function(e,n,i){t()}),i).on("button.over",(function(t,e,n){t.getElement("background").setStrokeStyle(1,16777215)})).on("button.out",(function(t,e,n){t.getElement("background").setStrokeStyle()}))}))];case 1:o.sent(),o.label=2;case 2:return e(t),[2]}}))}))}))}))]}))}))},e}(Phaser.Scene);e.default=h},,function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this,{key:"PreloadScene"})||this}return o(e,t),e.prototype.preload=function(){var t=this;["tile-left","tile-middle","tile-right","tile-single","controls","background","goal"].forEach((function(e){t.load.image(e,"assets/img/"+e+".png")}));["player_jumps","player_attacks","player_answers_correctly","player_answers_incorrectly","player_dies","player_lands","level_completes","player_collects"].forEach((function(e){return t.load.audio(e,"assets/sounds/"+e+".wav")})),this.load.audio("music","assets/sounds/music.mp3"),this.load.spritesheet("player","assets/img/player.png",{frameHeight:165,frameWidth:120}),this.load.spritesheet("coin","assets/img/coin.png",{frameHeight:42,frameWidth:42}),this.load.spritesheet("bee","assets/img/bee.png",{frameHeight:100,frameWidth:128}),this.load.spritesheet("slime","assets/img/slime.png",{frameHeight:68,frameWidth:112}),this.load.setPath("assets/spine"),this.load.spine("boy","boy.json","boy.atlas")},e.prototype.create=function(){this.scene.start("MainScene")},e}(Phaser.Scene);e.default=r},,,,,,function(t,e){function n(t){var e,n,i;for(i=t.length-1;i>0;i--)e=Math.floor(Math.random()*(i+1)),n=t[i],t[i]=t[e],t[e]=n;return t}function i(t,e){var n;return"add"==window.mathOperation?n=t+e:"subtract"==window.mathOperation?n=t-e:"multiply"==window.mathOperation?n=t*e:"divide"==window.mathOperation&&(n=t/e),n}window.mathQuestions=[],window.generateMathQuestions=function(t,e){window.currentMathIndex=0,window.mathOperation=t;var o,r,s,a=!1;"add"==t?window.mathSymbol="&plus;":"subtract"==t?(window.mathSymbol="&minus;",a=!0):"multiply"==t?window.mathSymbol="&times;":"divide"==t&&(window.mathSymbol="&divide;",a=!0),o=r=10==e?9:5;for(var u=1;u<=o;u++)for(var c=1;c<=(a?u:r);c++)s=i(u,c),isNaN(s)||parseInt(Number(s))!=s||isNaN(parseInt(s,10))?console.log("Skipped: "+u+" "+c):window.mathQuestions.push([u,c]);if(0==window.mathQuestions.length)throw new Error("No "+t+" questions????");console.log(window.mathQuestions.slice()),n(window.mathQuestions)},window.getNextMathQuestion=function(){if(window.currentMathIndex<=window.mathQuestions.length-1){var t=window.mathQuestions[window.currentMathIndex],e=i(t[0],t[1]);return window.currentMathIndex++,{operands:t,currentCorrectAnswer:e}}return n(window.mathQuestions),window.currentMathIndex=0,window.getNextMathQuestion()}}]);